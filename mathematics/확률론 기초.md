# 확률론 기초

- **목차**
  
  1. [확률의 단순한 정의와 이항계수](#1-확률의-단순한-정의와-이항계수)
  
  2. [확률의 성질](#2-확률의-성질)
     - 확률의 성질 2가지
     - 확률의 속성들
     - Birthday problem
  
  3. [조건부 확률](#3-조건부-확률)
  4. 

# 1. 확률의 단순한 정의와 이항계수

- **용어 정리**

  - **표본 공간 (S, sample space)** : 어떤 시행에서 일어날 수 있는 모든 결과들의 모임

  - **사건 (event)** : 표본공간 (sample space)의 부분집합으로 어떤 조건을 만족하는 특정한 표본점들의 집합

    

- **확률의 단순한 정의**

  P(A)로 표기하며 ( 가능한 A의 결과의 수 ) / (가능한 모든 경우의 수)를 의미한다.

  - 확률의 분모는 유한한 값을 가져야 한다.

  - 단순한 정의로 해결할 수 있는 문제는 확률이 동일한 경우에만 해당한다.

    ex) 해왕성에 생물이 살 확률은? -> 단순한 정의에 의하면 산다/안산다 이므로 50%이다.

    50%의 확률은 말도 안되는 값임을 알 수 있다. 

    ex2) 해왕성에 지능을 가진 생물이 살 확률은 ? -> 마찬가지로 50%이다. 직관적으로 생각해봐도 생물이 살 확률보다 지능을 가진 생물이 살 확률이 훨씬 낮아야하지만 그렇지 않기에 문제가 된다.



- **이항계수 (Binomial Coeffecient)**

  자연수 n 및 정수 k가 주어졌을 때 **nCk** 또는 **C(n,k)** 로 표기한다.

  수식으로 나타내면 
  ![image](https://user-images.githubusercontent.com/71866756/147647425-56ac7a9c-61ec-4232-8bcd-45319eee6e7a.png)

  - 이항계수의 3가지 성질

    - C(n, k) = C(n, n-k) (이항계수의 정의를 이용해 증명 가능)

    - nC(n-1, k-1) = k(n, k)

      증명) n명의 사람들 중 k명을 뽑고, 그 중 한명을 대표로 뽑는 경우를 생각할 수 있다. 

      ​		  (좌변) 대표를 먼저 뽑는 경우 : n명 중 1명 (n), n-1명 중 k-1명 ( C(n-1, k-1) )

      ​          (우변) k명을 먼저 뽑는 경우 : n명 중 k명 ( C(n, k) ), k명 중 1명 (k) 

    ![image](https://user-images.githubusercontent.com/71866756/147647465-25b2cc70-eaad-4c8a-ada3-82082c1039da.png)


  **!! 주의할 점 !!**

  10명 중 4명, 6명으로 두팀을 만든다고 하였을 때의 확률은 10C6=10C4이다.

  하지만, 10명 중 5명, 5명으로 두팀을 만든다고 하였을 때의 확률은 10C5 / 2가 된다.

  ( 두 팀을 완벽히 구분이 가능하다면 2로 나누지 않아도 되지만, 구분이 불가능할 경우 중복으로 counting이 되기 때문에 2로 나눠줘야 한다. )

  

  |                        | 순서상관있는 경우 | 순서상관없는 경우 |
  | ---------------------- | ----------------- | ----------------- |
  | **복원하는 경우**      | n^k               | n+k-1Ck           |
  | **복원하지 않는 경우** | nPk               | nCk               |

  - 순서상관없고, 복원하는 경우의 n+k-1Ck 증명

    ![image](https://user-images.githubusercontent.com/71866756/147635035-0e217ff2-4ec0-45f3-829b-c29895dcfa20.png)




# 2. 확률의 성질

- **확률의 성질 2가지**

  - 표본 공간 S, S의 사건 A를 입력으로 받았을 때, 0~1 사이의 값을 출력으로 갖는 함수 P가 있다고 했을 때, 만족하는 성질 2가지
  
  ![image](https://user-images.githubusercontent.com/71866756/147647362-3e1f6d3c-67e4-4fbe-9e80-e8181c5abfc8.png)
  
- **확률의 성질로 증명할 수 있는 속성들**

  - 공집합의 확률  
    ![image](https://user-images.githubusercontent.com/71866756/147647495-434be893-6920-460b-aa3b-1e0272e493d3.png)
    
- 여집합의 확률  
    ![image](https://user-images.githubusercontent.com/71866756/147647507-c6d75e96-03d6-4c86-969a-5d83c221a881.png)
    
  - 포함 배제의 원리  
  ![image](https://user-images.githubusercontent.com/71866756/147647528-91d6125e-406a-40a7-a9a8-e1c798f2d966.png)
  
    - 증명  
  ![image](https://user-images.githubusercontent.com/71866756/147647546-b2a93ebb-ebca-450b-aa4c-362a0fe91f2d.png)
  
  

- **Birthday Problem**

  k명의 사람들 중 적어도 2명의 생일이 같은 확률이 50%가 넘는 k의 값은?

  ( 365일 중 태어날 확률은 모두 equally likely라고 가정하면 단순한 정의를 이용할 수 있다. )

  - k > 365일 경우

    **비둘기집의 원리**로 k>365보다 크면 적어도 한 쌍은 생일이 같을 수 밖에 없다. 

  - k <= 365일 경우

    : 직관적으로 생각해보면 365일 중 생일이 같은 확률은 크다고 생각되지 않는다. 하지만 이 문제의 정답은 23명이다. 

    P(생일이 모두 다를 경우) = ( 365x364x...x(365-k+1) ) / ( 365^k ) 으로 나타낼 수 있다. 

    P( 생일이 적어도 한명 같은 경우 ) = 1 - P(생일이 모두 다를 경우) 가 된다. 

    따라서 **k=23일 경우 확률은 약 50.7%**, **k=100일 경우 약 99.999%**가 나온다.

    -> 이 문제를 조금 다른 시각으로 보면 k=23일 때, 23C2로 생일이 같은 경우의 조합의 수를 생각해볼 수 있다. 23C2 = 253으로 상당히 많은 경우의 수가 나올 수 있다. 이러한 시각으로 봤을 때, 두명의 생일이 같을 확률은 꽤 크다고 볼 수 있다.

     ```c++
     // 실제 코드로 작성하여 난수 생성하여 실험해본 결과 50%에 육박하게 나오는 것을 확인할 수 있었다. 
     #include <iostream>
     #include <cstdlib>
     #include <map>
     #include <ctime>
     using namespace std;
     
     int main() {
     	int cnt = 0;
     	srand((unsigned int)time(NULL));
     	for (int k = 0; k < 10; k++) {
     		for (int j = 0; j < 1000; j++) {
     			map<int, int> m;
     			for (int i = 0; i < 23; i++) {
     				int temp = rand() % 365 + 1;
     				if (m[temp] != 0) {
     					m[temp] += 1;
     					cnt++;
     					break;
     				}
     				else m[temp] = 1;
     			}
     		}
     		cout << k+1 << "번째 확률 : " << (double)cnt / (double)1000 << endl;
     		cnt = 0;
     	}
     }
     ```

     ![image](https://user-images.githubusercontent.com/71866756/147647720-edcfb2e0-c2b3-4cab-93c0-00d91fe0fb5a.png)

# 3. 조건부 확률

- **독립**

  사건 A,B는 P(A,B)=P(A)P(B)일 경우, 독립이라고 한다. 

- **조건부 확률**

  사건 B가 발생했을 때 A가 발생할 확률로 만약 A와 B가 독립이 아닌 경우 매우 유용하다. 

  **!!! 중요 !!!** 

  여기서 P(B)로 나눠주는 이유는 B를 이미 발생한 사건으로 보고 A가 발생할 확률을 구하는 것이기 때문에 전체 표본 공간이었던 S가 B로 축소되고 이를 정규화하기 위해 P(B)로 나누어주는 것이다.   
  ![image](https://user-images.githubusercontent.com/71866756/148025973-9d076724-c5b6-43a0-a0d6-016fc3a20441.png)

   

  A와 B가 독립인 경우는 아래 수식으로 나타낼 수 있다.  
  ![image](https://user-images.githubusercontent.com/71866756/148026015-d4f72e20-3aad-44a9-bf8e-c023a9ca0c8f.png)

  - 정리

    ![image](https://user-images.githubusercontent.com/71866756/148026040-7f09ce2d-b65e-4b3f-bde4-5023e196827e.png)

- 







